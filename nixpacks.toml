[phases.setup]
nixPkgs = ["chromium", "nodejs_20", "python3"]

[phases.install]
cmds = ["npm install"]

[start]
cmd = "npm run dev"

[variables]
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD = "true"
# Nixpacks installs Chromium via nixPkgs (available on PATH as `chromium`).
# Do NOT use /usr/bin/chromium-browser (often a snap stub that fails in containers).
PUPPETEER_EXECUTABLE_PATH = "chromium"
